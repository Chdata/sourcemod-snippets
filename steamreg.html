<html>
<head>
<title>Register a Steam server account</title>
</head>

<body>

<h1>Register a Steam server account</h1>

<p><strong>This is a temporary page until Valve makes their own page for registering servers.</strong></p>

<p><a target="_blank" href="https://forums.alliedmods.net/showthread.php?t=234901">AlliedModders Discussion Thread</a></p>

<p>This page is just a form for submitting to Valve's IGameServersService's CreateAccount because it requires the POST protocol.</p>

<form action="https://api.steampowered.com/IGameServersService/CreateAccount/v0001/" method="POST">
<p>Game: <select name="appid">
	<optgroup label="Source (Valve)">
		<option value="630">Alien Swarm</option>
		<option value="240">Counter-Strike: Source</option>
		<option value="730">Counter-Strike: Global Offensive</option>
		<option value="300">Day of Defeat: Source</option>
		<option value="320">Half-Life 2: Deathmatch</option>
		<option value="500">Left 4 Dead</option>
		<option value="550">Left 4 Dead 2</option>
		<option value="440" selected="selected">Team Fortress 2</option>
	</optgroup>
	
	<optgroup label="GoldSrc (Valve)">
		<option value="10">Counter-Strike 1.6</option>
		<option value="80">Counter-Strike: Condition Zero</option>
		<option value="30">Day of Defeat</option>
		<option value="40">Deathmatch Classic</option>
		<option value="60">Ricochet</option>
		<option value="20">Team Fortress Classic</option>
	</optgroup>
	
	<optgroup label="Source (Other)">
		<option value="215">Source SDK 2006 (Generic)</option>
		<option value="218">Source SDK 2007 (Generic)</option>
		<option value="243750">Source SDK 2013 (Generic)</option>
		<option value="17510">Age of Chivalry</option>
		<option value="225600">Blade Symphony</option>
		<option value="2450">Bloody Good Time</option>
		<option value="238430">Contagion</option>
		<option value="2100">Dark Messiah of Might &amp; Magic</option>
		<option value="70000">Dino D-Day</option>
		<option value="91700">E.Y.E: Divine Cybermancy</option>
		<option value="265630">Fistful of Frags (standalone)</option>
		<option value="4000">Garry's Mod</option>
		<option value="222880">Insurgency (standalone)</option>
		<option value="244630">Neotokyo (standalone)</option>
		<option value="224260">No More Room In Hell (standalone)</option>
		<option value="17710">Nuclear Dawn</option>
		<option value="17570">Pirates, Vikings, and Knights II</option>
		<option value="17520">Synergy</option>
	</optgroup>
	
</select></p>
<p><a target="_blank" href="http://steamcommunity.com/dev">API Key</a>: <input name="key" type="text" size="100" required="required" /></p>
<p><input type="submit" /><input type="reset" /></p>
</form>

<h2>Usage instructions:</h2>

<p>If your API key was valid and you have less than 50 servers registered to this API key, you will get back a JSON response that contains a login_token. <strong>Each server you own needs its own login_token.</strong>  I will refer to the value of the login token as <em>login_tokenvalue</em></p>

<p>For Team Fortress 2, Counter-Strike: Source, Day of Defeat: Source, and Half-Life 2: Deathmatch: Add <code>sv_setsteamaccount <em>login_tokenvalue</em></code> to your autoexec.cfg or some other config file that runs on server startup, or <code>+sv_setsteamaccount <em>login_tokenvalue</em></code> to your startup line.  <strong>Adding this to server.cfg does not work as it executes too late.</strong></p>

<p>For other Source games, you can use SourceMod <a target="_blank" href="https://forums.alliedmods.net/showthread.php?t=237481">Set Game Server Account plugin</a> (opens in new window).  Note that it depends on the SteamWorks extension, which must also be installed.  Once the plugin is installed, put your <em>login_tokenvalue</em> into the addons/sourcemod/configs/gameserveraccount_token.txt file.</p>

<p>As far as I know, there are no AMXModX plugins to get this working with GoldSrc games.</p>

<p>Updates:</p>
<ul>
	<li>2014-12-22
		<ul>
			<li>Added a large number of games and sorted the list</li>
			<li>Improved form with HTML5 features</li>
			<li>Added link to AlliedModders discussion thread</li>
		</ul>
	</li>
	<li>2014-02-15
		<ul>
			<li>Added additional Valve games</li>
		</ul>
	</li>
</ul>

</body>

</html>
